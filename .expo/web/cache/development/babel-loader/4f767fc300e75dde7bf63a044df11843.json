{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport createDataContext from \"./createDataContext\";\nimport backend from \"../api/backend\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { navigate } from \"../navigationRef\";\n\nvar dataReducer = function dataReducer(state, action) {\n  switch (action.type) {\n    case 'getlistOfWantedPepoles':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        listOfWanted: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar searchForPlate = function searchForPlate(dispatch) {\n  return function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar getPersons = function getPersons(dispatch) {\n  return function _callee2() {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar getPerson = function getPerson(dispatch) {\n  return function _callee3() {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar getVechilesOfPerson = function getVechilesOfPerson(dispatch) {\n  return function _callee4() {\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar getCrimesOfPerson = function getCrimesOfPerson(dispatch) {\n  return function _callee5() {\n    return _regeneratorRuntime.async(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar getlistOfWantedPepoles = function getlistOfWantedPepoles(dispatch) {\n  return function _callee6(satuts) {\n    var token, response;\n    return _regeneratorRuntime.async(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('token'));\n\n          case 3:\n            token = _context6.sent;\n            _context6.next = 6;\n            return _regeneratorRuntime.awrap(backend.get(\"/api/v1/persons?state=\" + satuts, {\n              headers: {\n                'Content-Type': 'application/jsonvalue',\n                'Authorization': \"Bearer \" + token\n              }\n            }));\n\n          case 6:\n            response = _context6.sent;\n            console.log(\"succ\");\n            console.log(response.data);\n            dispatch({\n              type: \"getlistOfWantedPepoles\",\n              payload: response.data\n            });\n            _context6.next = 14;\n            break;\n\n          case 12:\n            _context6.prev = 12;\n            _context6.t0 = _context6[\"catch\"](0);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[0, 12]], Promise);\n  };\n};\n\nvar _createDataContext = createDataContext(dataReducer, {\n  getlistOfWantedPepoles: getlistOfWantedPepoles\n}, {\n  search: \"\",\n  listOfWanted: [{\n    _id: 0\n  }]\n}),\n    Context = _createDataContext.Context,\n    Provider = _createDataContext.Provider;\n\nexport { Context, Provider };","map":{"version":3,"sources":["/home/sakka/Documents/app/src/context/DataContext.js"],"names":["createDataContext","backend","navigate","dataReducer","state","action","type","listOfWanted","payload","searchForPlate","dispatch","getPersons","getPerson","getVechilesOfPerson","getCrimesOfPerson","getlistOfWantedPepoles","satuts","AsyncStorage","getItem","token","get","headers","response","console","log","data","search","_id","Context","Provider"],"mappings":";;;;;;;AAAA,OAAOA,iBAAP;AACA,OAAOC,OAAP;;AAGA,SAAQC,QAAR;;AAEA,IAAMC,WAAW,GAAE,SAAbA,WAAa,CAACC,KAAD,EAAOC,MAAP,EAAgB;AAC/B,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,wBAAL;AACI,6CAAWF,KAAX;AAAiBG,QAAAA,YAAY,EAACF,MAAM,CAACG;AAArC;;AAEJ;AACI,aAAOJ,KAAP;AALR;AAOH,CARD;;AASA,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,CAACC,QAAD,EAAY;AAC/B,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAeH,CAhBD;;AAmBA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACD,QAAD,EAAY;AAC3B,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAeH,CAhBD;;AAiBA,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACF,QAAD,EAAY;AAC1B,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAeH,CAhBD;;AAkBA,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACH,QAAD,EAAY;AACpC,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAeH,CAhBD;;AAiBA,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACJ,QAAD,EAAY;AAClC,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAeH,CAhBD;;AAmBA,IAAMK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACL,QAAD,EAAY;AACvC,SACI,kBAAOM,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAG4BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAH5B;;AAAA;AAGcC,YAAAA,KAHd;AAAA;AAAA,6CAK8BlB,OAAO,CAACmB,GAAR,4BAAqCJ,MAArC,EAA8C;AAChEK,cAAAA,OAAO,EAAE;AAAC,gCAAgB,uBAAjB;AAAyC,6CAA0BF;AAAnE;AADuD,aAA9C,CAL9B;;AAAA;AAKcG,YAAAA,QALd;AAQQC,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AAEAf,YAAAA,QAAQ,CAAC;AAACJ,cAAAA,IAAI,EAAC,wBAAN;AAA+BE,cAAAA,OAAO,EAACc,QAAQ,CAACG;AAAhD,aAAD,CAAR;AAXR;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GADJ;AAmBH,CApBD;;yBA0BkCzB,iBAAiB,CAC/CG,WAD+C,EAE/C;AAACY,EAAAA,sBAAsB,EAAtBA;AAAD,CAF+C,EAG/C;AAACW,EAAAA,MAAM,EAAC,EAAR;AAAWnB,EAAAA,YAAY,EAAC,CAAC;AAACoB,IAAAA,GAAG,EAAC;AAAL,GAAD;AAAxB,CAH+C,C;IAArCC,O,sBAAAA,O;IAAQC,Q,sBAAAA,Q","sourcesContent":["import createDataContext from './createDataContext';\nimport backend from '../api/backend';\nimport {AsyncStorage} from 'react-native';\n\nimport {navigate} from '../navigationRef';\n\nconst dataReducer =(state,action)=>{\n    switch (action.type) {\n        case 'getlistOfWantedPepoles':\n            return({...state,listOfWanted:action.payload})\n    \n        default:\n            return(state);\n    }\n};\nconst searchForPlate = (dispatch)=>{\n    return (\n        async () =>{\n           //search for plate Number\n\n            //update state vlaue search\n\n           //get the search value\n\n           //make request \n\n           //navigate to result screen\n\n           //handiling error\n        }\n    );\n}\n\n//persons operations\nconst getPersons = (dispatch)=>{\n    return (\n        async () =>{\n           //search for plate Number\n\n            //update state vlaue search\n\n           //get the search value\n\n           //make request \n\n           //navigate to result screen\n\n           //handiling error\n        }\n    );\n}\nconst getPerson = (dispatch)=>{\n    return (\n        async () =>{\n           //search for plate Number\n\n            //update state vlaue search\n\n           //get the search value\n\n           //make request \n\n           //navigate to result screen\n\n           //handiling error\n        }\n    );\n}\n\nconst getVechilesOfPerson = (dispatch)=>{\n    return (\n        async () =>{\n           //search for plate Number\n\n            //update state vlaue search\n\n           //get the search value\n\n           //make request \n\n           //navigate to result screen\n\n           //handiling error\n        }\n    );\n}\nconst getCrimesOfPerson = (dispatch)=>{\n    return (\n        async () =>{\n           //search for plate Number\n\n            //update state vlaue search\n\n           //get the search value\n\n           //make request \n\n           //navigate to result screen\n\n           //handiling error\n        }\n    );\n}\n\n\nconst getlistOfWantedPepoles = (dispatch)=>{\n    return (\n        async (satuts) =>{\n            try {\n                //get token from storage\n                const token = await AsyncStorage.getItem('token');\n                //make request \n                const response =await backend.get(`/api/v1/persons?state=${satuts}`,{\n                    headers: {'Content-Type': 'application/jsonvalue','Authorization':`Bearer ${token}`}\n                });\n                console.log(\"succ\");\n                console.log(response.data); \n                //update state vlaue \n                dispatch({type:\"getlistOfWantedPepoles\",payload:response.data});\n                // retunr state of all wanted plates\n            } catch (error) {\n                //handiling error\n            }\n        }\n    );\n}\n\n\n\n\n\nexport const {Context,Provider} = createDataContext(\n    dataReducer,\n    {getlistOfWantedPepoles},\n    {search:\"\",listOfWanted:[{_id:0}]}\n);"]},"metadata":{},"sourceType":"module"}